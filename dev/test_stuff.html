<!DOCTYPE html>
<html>
<head>
  <title>jQuery CSS Watch Plugin - test stuff</title>
  <link rel="stylesheet" href="./unit/test.css" type="text/css" media="screen">
  <script type="text/javascript" src="./shared/jquery-1.8.2.js"></script>
  <script type="text/javascript" src="./jquery.csswatch.js"></script>
  <script type="text/javascript" src="./shared/coffee-script.js"></script>
  <script type="text/coffeescript">
$ ->
  count = 0
  $('.testdiv').csswatch({props: 'color, background-color'}).on("css-change", (event, changed_data, jquery_element, dom_element) -> 
    console.log event.currentTarget.innerText
    console.log changed_data;
    )

  window.changecolor = ->
    # console.log $('.testdiv').css("color", "background-color")
    # if $('.testdiv').css("color") == 'rgb(255, 0, 51)'
    #   $('.testdiv').css("color", 'rgb(0,51,255)')
    #   $('.bg').css("background-color", 'rgb(255,0,255)')
    # else
    #   $('.testdiv').css("color", 'rgb(255,0,51)')
    #   $('.bg').css("background-color", 'rgb(0,255,255)')

    if $('.testdiv-class').hasClass('test-color1')
      $('.testdiv-class').addClass('test-color2').removeClass('test-color1')
    else
      $('.testdiv-class').addClass('test-color1').removeClass('test-color2')
  return
  </script>
</head>
<body>
  <div class="testdiv">Test something 1</div>
  <div class="testdiv bg">Test something 2</div>
  <div class="testdiv testdiv-class">Test something with classes</div>
  <p><a href="#" onClick="changecolor();return false">Change color</a></p>
</body>
</html>
